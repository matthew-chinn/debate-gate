$(document).ready(function(){
  $('.star').hover(function(){
      if( $(this).hasClass("unclicked") ){
          $(this).html("&#9733");
      }
  }, function(){
      if( $(this).hasClass("unclicked") ){
          $(this).html("&#9734");
      }
  });
});

function getArgPage(type, id, obj) {
  var x = new XMLHttpRequest();
  x.open("GET", "/argument/" + id + "/other?type=" + type);
  x.responseType = 'document';
  x.onload = function() {
    // Parse and process the response from Google Image Search.
    html = x.response.children[0];
    var container = $(html).find('.main-content').html();
    renderHtml(container, obj, type)
      return;
  };
  x.onerror = function() {
    renderHtml('<p>Network error.</p>', obj);
    return;
  };
  x.send();

}

function renderHtml(html, obj, type) {
  var cancel = '<span id="modal-cancel">X</span>';
  modal.html(html);
  $(cancel).prependTo(modal);

  modal.removeClass("supporting");
  modal.removeClass("counter");
  modal.addClass(type);

  var top = $(obj).offset().top;
  modal.css("top", top);
  modal.css("left", "40%");
  modal.show();

  $('#modal-cancel').click(function(){
    modal.hide();
  });

}

